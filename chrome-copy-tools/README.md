# Chrome Copy Tools

一个静默的Chrome浏览器插件，支持双击页面元素复制文案到剪贴板。

## 功能特性

- 🖱️ **双击复制**: 双击页面上任意元素即可复制其文案
- 🤫 **静默复制**: 无任何视觉反馈，不影响页面正常使用
- 📋 **智能识别**: 自动识别文本、输入框值、图片alt属性等内容
- 📊 **复制历史**: 后台记录复制内容，可在弹窗中查看和管理（支持滚动查看所有记录）
- ⚙️ **个性化设置**: 可自定义历史记录数量、提示音等功能
- 🎯 **一键开关**: 可随时启用或禁用插件功能
- 🔄 **历史重复制**: 点击历史记录可重新复制内容
- 🎵 **提示音设置**: 可选择启用或禁用复制提示音

## 安装方法

1. 下载或克隆此项目到本地
2. 打开Chrome浏览器，进入扩展程序管理页面 (`chrome://extensions/`)
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹 `chrome-copy-tools`
6. 插件安装完成！

## 使用方法

1. 安装插件后，双击任意网页元素即可静默复制其文案
2. 复制过程完全静默，不会显示任何提示或动画
3. 点击插件图标可查看复制历史和调整设置
4. 可通过插件弹窗中的开关来启用/禁用功能
5. 在弹窗中点击历史记录可重新复制该内容
6. 通过设置面板可调整历史记录数量、提示音等功能

## 支持的内容类型

- 普通文本内容
- 输入框和文本域的值（包括被禁用的输入框）
- 选择框的选中选项（包括被禁用的选择框）
- 按钮文本（包括被禁用的按钮）
- 图片的alt属性
- 链接文本
- 标题和标签文本
- 被禁用表单元素的placeholder、默认值等属性

## 静默模式特性

- ✅ **无视觉干扰**: 不添加边框、动画或提示气泡
- ✅ **保持原生体验**: 不阻止页面默认的双击行为
- ✅ **后台运行**: 静默记录复制历史
- ✅ **控制台日志**: 仅在开发者工具中显示调试信息
- ✅ **被禁用元素支持**: 自动检测和处理被禁用的表单元素

## 项目结构

```
chrome-copy-tools/
├── manifest.json          # 插件配置文件 (Manifest V3)
├── content.js             # 内容脚本 - 主要功能实现
├── content.css            # 内容样式 (静默模式)
├── background.js          # 后台脚本 - 数据管理和Service Worker
├── popup.html             # 弹窗界面
├── popup.css              # 弹窗样式
├── popup.js               # 弹窗逻辑和设置管理
├── offscreen.html         # 离屏文档 (用于剪贴板操作)
├── offscreen.js           # 离屏脚本 - 处理剪贴板API
├── icons/                 # 插件图标文件夹
│   ├── icon16.png         # 16x16 图标
│   ├── icon32.png         # 32x32 图标
│   ├── icon48.png         # 48x48 图标
│   ├── icon128.png        # 128x128 图标
│   └── README.md          # 图标说明文档
└── README.md              # 项目说明文档
```

## 技术实现

- **Manifest V3**: 使用最新的Chrome扩展程序规范
- **Content Scripts**: 在网页中注入脚本实现双击监听和文本提取
- **Service Worker**: 后台处理数据存储和消息通信
- **Offscreen Document**: 处理剪贴板操作，解决Manifest V3限制
- **Chrome Storage API**: 持久化存储设置和历史记录
- **Clipboard API**: 现代剪贴板操作，兼容降级方案
- **权限管理**: 最小权限原则，仅申请必要权限

## 开发说明

本插件使用Chrome Extension Manifest V3开发，主要文件说明：

- `manifest.json`: 定义插件权限、脚本加载等配置，使用Manifest V3规范
- `content.js`: 在网页中运行，监听双击事件并处理复制逻辑
- `background.js`: Service Worker，处理数据存储和跨标签页通信
- `popup.*`: 插件弹窗界面，提供设置和历史记录查看功能
- `offscreen.*`: 离屏文档，专门处理剪贴板操作以符合V3安全要求
- `icons/`: 包含不同尺寸的插件图标文件

### 核心功能模块

1. **双击监听**: `content.js` 中的事件监听器
2. **文本提取**: 智能识别不同元素类型的文本内容
3. **剪贴板操作**: 通过offscreen document处理，支持降级方案
4. **历史管理**: 后台存储和管理复制历史记录
5. **设置系统**: 用户偏好设置的存储和同步
6. **静默模式**: 无视觉反馈的用户体验设计

## 许可证

MIT License

## 更新日志

### v1.0.0 (当前版本)
- ✅ 初始版本发布
- ✅ 支持双击复制文案功能
- ✅ 实现静默复制模式（无视觉反馈）
- ✅ 添加复制历史记录功能
- ✅ 提供完整的设置界面
- ✅ 支持历史记录重复制
- ✅ 实现Manifest V3规范
- ✅ 添加Offscreen Document支持
- ✅ 智能文本提取算法
- ✅ 多种剪贴板操作降级方案
- ✅ 完善的权限管理
- ✅ 支持被禁用元素的复制
- ✅ 无干扰的静默操作模式

### 计划功能
- 🔄 快捷键支持
- 🔄 导出历史记录
- 🔄 自定义复制格式
- 🔄 网站白名单/黑名单
- 🔄 更多文本提取规则
